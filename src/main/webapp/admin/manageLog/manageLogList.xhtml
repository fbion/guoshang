<ui:composition template="/admin/templates/ui.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:composite="http://java.sun.com/jsf/composite/primefaces"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:p="http://primefaces.org/ui"
				xmlns:fn="http://java.sun.com/jsp/jstl/functions"
				xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:sec="http://www.springframework.org/security/facelets/tags">

	<ui:define name="content">

		<div class="entry">
			<p:toolbar>
				<p:toolbarGroup>
					<h:outputLabel style="padding-left: 15px;"
								   value="#{commonMsg.currentPositionLabel} #{manageLogMsg.manageLogPage}"></h:outputLabel>
				</p:toolbarGroup>
			</p:toolbar>
			<h:form id="form">
				<p:panel id="filters">
					<p:inputText id="searchId" value="#{manageLogList.example.id}"></p:inputText>
					<p:inputText id="searchName" value="#{manageLogList.example.user.username}"></p:inputText>
					<p:calendar id="searchStartTime" value="#{manageLogList.startTime}"
								pattern="yyyy-MM-dd HH:mm:ss" navigator="true" showButtonPanel="true"></p:calendar>
					<p:calendar id="searchEndTime" value="#{manageLogList.endTime}"
								pattern="yyyy-MM-dd HH:mm:ss" navigator="true" showButtonPanel="true"></p:calendar>
					<p:commandButton process="filters" update="dataTable" actionListener="#{manageLogList.setDataTableLoadFirst(1)}"
									 value="#{commonMsg.searchLabel}"></p:commandButton>
					<p:button value="#{commonMsg.resetLabel}" onclick="location.reload();return;"></p:button>
				</p:panel>
				<p:watermark for="searchId" value="#{commonMsg.IDLabel}" />
				<p:watermark for="searchName" value="#{manageLogMsg.manageUser}"></p:watermark>
				<p:watermark for="searchStartTime"  value="操作时间&gt;="></p:watermark>
				<p:watermark for="searchEndTime" value="=&lt;操作时间"></p:watermark>


				<p:dataTable id="dataTable" value="#{manageLogList.lazyModel}"
							 var="manageLog" paginator="true" paginatorPosition="bottom" rows="15"
							 lazy="true" emptyMessage="#{commonMsg.noResultMsg}"
							 sortBy="manageLog.createTime" sortOrder="descending"
							 currentPageReportTemplate="#{commonMsg.pageReportTemplate}"
							 paginatorTemplate="#{commonMsg.paginatorTemplate}">

					<p:column headerText="#{commonMsg.IDLabel }">
						<h:outputText value="#{manageLog.id}"></h:outputText>
					</p:column>
					<p:column headerText="操作人">
						<h:outputText value="#{manageLog.user.username}"></h:outputText>
					</p:column>
					<p:column headerText="操作描述">
						<h:outputText value="#{manageLog.des}"></h:outputText>
					</p:column>
					<p:column headerText="时间">
						<h:outputText value="#{manageLog.createTime}">
							<f:convertDateTime timeZone="GMT+8" pattern="yyyy-MM-dd HH:mm:ss"/>
						</h:outputText>
					</p:column>

				</p:dataTable>




			</h:form>
		</div>


	</ui:define>
</ui:composition>
